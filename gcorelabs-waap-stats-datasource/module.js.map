{"version":3,"file":"module.js","mappings":"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","sources":["webpack://gcore-waap-datasource/external amd \"@grafana/ui\"","webpack://gcore-waap-datasource/external amd \"@grafana/runtime\"","webpack://gcore-waap-datasource/external amd \"@grafana/data\"","webpack://gcore-waap-datasource/external amd \"react\"","webpack://gcore-waap-datasource/webpack/bootstrap","webpack://gcore-waap-datasource/webpack/runtime/compat get default export","webpack://gcore-waap-datasource/webpack/runtime/define property getters","webpack://gcore-waap-datasource/webpack/runtime/hasOwnProperty shorthand","webpack://gcore-waap-datasource/webpack/runtime/make namespace object","webpack://gcore-waap-datasource/./utils/normalize.ts","webpack://gcore-waap-datasource/./datasource.ts","webpack://gcore-waap-datasource/./components/QueryEditor.tsx","webpack://gcore-waap-datasource/./module.ts","webpack://gcore-waap-datasource/./components/ConfigEditor.tsx"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__7__;","module.exports = __WEBPACK_EXTERNAL_MODULE__531__;","module.exports = __WEBPACK_EXTERNAL_MODULE__781__;","module.exports = __WEBPACK_EXTERNAL_MODULE__959__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export enum SizeUnitEnum {\r\n    Bytes = 'Bytes',\r\n    KBytes = 'KBytes',\r\n    MBytes = 'MBytes',\r\n    GBytes = 'GBytes',\r\n}\r\n\r\nexport const normalizeBytes = (\r\n    bytes: number,\r\n    unit: SizeUnitEnum,\r\n    precision = 2\r\n): number => {\r\n    switch (unit) {\r\n        case SizeUnitEnum.Bytes:\r\n            return Number(bytes.toFixed(precision));\r\n        case SizeUnitEnum.KBytes:\r\n            return Number((bytes / 1024).toFixed(precision));\r\n        case SizeUnitEnum.MBytes:\r\n            return Number((bytes / (1024 * 1024)).toFixed(precision));\r\n        case SizeUnitEnum.GBytes:\r\n            return Number((bytes / (1024 * 1024 * 1024)).toFixed(precision));\r\n    }\r\n};\r\n","import {\n  DataSourceApi, DataQueryRequest, DataQueryResponse,\n  DataSourceInstanceSettings, MutableDataFrame, FieldType\n} from '@grafana/data';\nimport { getBackendSrv } from '@grafana/runtime';\nimport { WaapQuery, JsonWaapData, SeriesResponse } from './types';\nimport { normalizeBytes, SizeUnitEnum } from './utils/normalize';\n\nexport class DataSource extends DataSourceApi<WaapQuery, JsonWaapData> {\n  private apiBase: string;\n  private authHeader?: string;\n\n  constructor(private instanceSettings: DataSourceInstanceSettings<JsonWaapData>) {\n    super(instanceSettings);\n    this.apiBase = (instanceSettings.jsonData?.apiUrl || '').replace(/\\/+$/, '');\n    this.authHeader = (instanceSettings as any)?.decryptedSecureJsonData?.apiKey;\n  }\n\n  async query(req: DataQueryRequest<WaapQuery>): Promise<DataQueryResponse> {\n    const from = req.range.from.toISOString();\n    const to = req.range.to.toISOString();\n    const gran = req.targets[0]?.granularity || '1h';\n\n    const targets = req.targets;\n    const metric = targets[0]?.metric ?? (Array.isArray((targets[0] as any)?.metrics) ? (targets[0] as any).metrics[0] : 'total_requests');\n    const metrics = [metric];\n    const data = await this.seriesCall({ from, to, granularity: gran, metrics });\n    return { data };\n  }\n\n  async testDatasource() {\n    const auth = async (path: string) =>\n      getBackendSrv().datasourceRequest({\n        method: 'GET',\n        url: `/api/datasources/proxy/uid/${this.instanceSettings.uid}/${path}`,\n        responseType: 'json',\n        showErrorAlert: true,\n      });\n\n\n    try {\n      const r1 = await auth('iam/users/me');\n      return { status: 'success', message: `Auth OK (IAM): ${r1.data?.name ?? 'OK'}` };\n    } catch {\n      const r2 = await auth('users/me');\n      return { status: 'success', message: `Auth OK: ${r2.data?.name ?? 'OK'}` };\n    }\n  }\n\n  private async seriesCall(args: { from: string; to: string; granularity: string; metrics: string[] }) {\n    const usp = new URLSearchParams();\n    usp.append('from', args.from);\n    usp.append('to', args.to);\n    usp.append('granularity', args.granularity);\n    for (const m of args.metrics) usp.append('metrics', m);\n\n    const url = `/api/datasources/proxy/uid/${this.instanceSettings.uid}/waap/v1/statistics/series?${usp.toString()}`;\n    const res = await getBackendSrv().datasourceRequest({ url, method: 'GET' });\n    const obj = (res?.data || {}) as SeriesResponse;\n\n    const frames: MutableDataFrame[] = [];\n\n    for (const [metric, points] of Object.entries(obj)) {\n      if (!Array.isArray(points)) continue;\n\n      const isBytes = metric === 'total_bytes';\n\n      const frame = new MutableDataFrame({\n        name: metric,\n        fields: [\n          { name: 'time', type: FieldType.time, values: [] },\n          {\n            name: metric,\n            type: FieldType.number,\n            config: {\n              unit: isBytes ? 'kbytes' : 'short',\n              decimals: 2,\n              displayName: isBytes ? 'Total Bytes (KB)' : 'Total Requests',\n            },\n            values: [],\n          },\n        ],\n      });\n\n      for (const p of points) {\n        const value = Number(p.value);\n        frame.add({\n          time: Date.parse(p.date_time),\n          [metric]: isBytes\n            ? normalizeBytes(value, SizeUnitEnum.KBytes)\n            : value,\n        });\n      }\n\n      frames.push(frame);\n    }\n\n    return frames;\n  }\n\n}\n","import React from 'react';\nimport { Granularity, WaapQuery } from '../types';\nimport { DataSource } from '../datasource';\nimport { Select } from '@grafana/ui';\nimport { QueryEditorProps, SelectableValue } from '@grafana/data';\n\n\nconst METRIC_OPTS: Array<SelectableValue<string>> = [\n  { label: 'total_requests', value: 'total_requests' },\n  { label: 'total_bytes', value: 'total_bytes' },\n];\n\n\nconst GRANULARITY: { label: string; value: Granularity }[] = [\n  { label: '1h', value: '1h' },\n  { label: '1d', value: '1d' },\n];\n\nexport const QueryEditor: React.FC<QueryEditorProps<DataSource, WaapQuery>> = ({ query, onChange, onRunQuery }) => {\n  const metric = query.metric ?? (Array.isArray((query as any).metrics) ? (query as any).metrics[0] : 'total_requests');\n\n  const granularity = query.granularity || '1h';\n\n  return (\n    <div className=\"gf-form-group\">\n      <div className=\"gf-form\">\n        <span className=\"gf-form-label width-9\">Metric</span>\n        <Select\n          className=\"width-20\"\n          options={METRIC_OPTS}\n          value={METRIC_OPTS.find(o => o.value === metric)}\n          onChange={(v) => { onChange({ ...query, metric: v!.value }); onRunQuery(); }}\n        />\n      </div>\n\n      <div className=\"gf-form\">\n        <span className=\"gf-form-label width-9\">Granularity</span>\n        <Select\n          className=\"width-10\"\n          value={{ label: granularity, value: granularity }}\n          options={GRANULARITY}\n          onChange={(v) => { onChange({ ...query, granularity: v?.value as Granularity }); onRunQuery(); }}\n        />\n      </div>\n    </div>\n  );\n};\n","import { DataSourcePlugin } from '@grafana/data';\nimport { DataSource } from './datasource';\nimport { ConfigEditor } from './components/ConfigEditor';\nimport { QueryEditor } from './components/QueryEditor';\nimport { MyQuery, MyDataSourceOptions } from './types';\n\nexport const plugin = new DataSourcePlugin<DataSource, MyQuery, MyDataSourceOptions>(DataSource)\n  .setConfigEditor(ConfigEditor)\n  .setQueryEditor(QueryEditor);\n","// import React, { ChangeEvent } from 'react';\n// import { InlineField, Input, SecretInput } from '@grafana/ui';\n// import { DataSourcePluginOptionsEditorProps } from '@grafana/data';\n// import { MyDataSourceOptions, MySecureJsonData } from '../types';\n\n// interface Props extends DataSourcePluginOptionsEditorProps<MyDataSourceOptions, MySecureJsonData> {}\n\n// export function ConfigEditor(props: Props) {\n//   const { onOptionsChange, options } = props;\n//   const { jsonData, secureJsonFields, secureJsonData } = options;\n\n//   const onPathChange = (event: ChangeEvent<HTMLInputElement>) => {\n//     onOptionsChange({\n//       ...options,\n//       jsonData: {\n//         ...jsonData,\n//         path: event.target.value,\n//       },\n//     });\n//   };\n\n//   // Secure field (only sent to the backend)\n//   const onAPIKeyChange = (event: ChangeEvent<HTMLInputElement>) => {\n//     onOptionsChange({\n//       ...options,\n//       secureJsonData: {\n//         apiKey: event.target.value,\n//       },\n//     });\n//   };\n\n//   const onResetAPIKey = () => {\n//     onOptionsChange({\n//       ...options,\n//       secureJsonFields: {\n//         ...options.secureJsonFields,\n//         apiKey: false,\n//       },\n//       secureJsonData: {\n//         ...options.secureJsonData,\n//         apiKey: '',\n//       },\n//     });\n//   };\n\n//   return (\n//     <>\n//       <InlineField label=\"Path\" labelWidth={14} interactive tooltip={'Json field returned to frontend'}>\n//         <Input\n//           id=\"config-editor-path\"\n//           onChange={onPathChange}\n//           value={jsonData.path}\n//           placeholder=\"Enter the path, e.g. /api/v1\"\n//           width={40}\n//         />\n//       </InlineField>\n//       <InlineField label=\"API Key\" labelWidth={14} interactive tooltip={'Secure json field (backend only)'}>\n//         <SecretInput\n//           required\n//           id=\"config-editor-api-key\"\n//           isConfigured={secureJsonFields.apiKey}\n//           value={secureJsonData?.apiKey}\n//           placeholder=\"Enter your API key\"\n//           width={40}\n//           onReset={onResetAPIKey}\n//           onChange={onAPIKeyChange}\n//         />\n//       </InlineField>\n//     </>\n//   );\n// }\n\n\n// src/ConfigEditor.tsx\nimport React from 'react';\nimport { DataSourcePluginOptionsEditorProps } from '@grafana/data';\nimport { Input, SecretInput } from '@grafana/ui';\nimport { JsonWaapData, SecureWaapJsonData } from '../types';\n\n  export const ConfigEditor: React.FC<\n  DataSourcePluginOptionsEditorProps<JsonWaapData, SecureWaapJsonData>\n> = ({ options, onOptionsChange }) => {\n  const jsonData = options.jsonData ?? {};\n  const secureJsonData = options.secureJsonData ?? {};\n\n  return (\n    <>\n      <h3 className=\"page-heading\">WAAP API</h3>\n\n      <div className=\"gf-form-group\">\n        <div className=\"gf-form\">\n          <span className=\"gf-form-label width-12\">API URL (host only)</span>\n          <Input\n            className=\"width-30\"\n            value={jsonData.apiUrl || ''}\n            placeholder=\"api.gcore.com\"\n            onChange={(e) => onOptionsChange({ ...options, jsonData: { ...jsonData, apiUrl: e.currentTarget.value } })}\n          />\n        </div>\n\n        <div className=\"gf-form\">\n          <span className=\"gf-form-label width-12\">Authorization header value</span>\n          <SecretInput\n            className=\"width-30\"\n            isConfigured={Boolean(options.secureJsonFields?.apiKey)}\n            value={secureJsonData.apiKey || ''}\n            placeholder=\"apikey <YOUR_TOKEN>\"\n            onReset={() => onOptionsChange({ ...options, secureJsonFields: { ...options.secureJsonFields, apiKey: false }, secureJsonData: { ...secureJsonData, apiKey: '' } })}\n            onChange={(e) => onOptionsChange({ ...options, secureJsonData: { ...secureJsonData, apiKey: e.currentTarget.value } })}\n          />\n        </div>\n      </div>\n    </>\n  );\n};\n\n"],"names":["module","exports","__WEBPACK_EXTERNAL_MODULE__7__","__WEBPACK_EXTERNAL_MODULE__531__","__WEBPACK_EXTERNAL_MODULE__781__","__WEBPACK_EXTERNAL_MODULE__959__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","SizeUnitEnum","normalizeBytes","bytes","unit","precision","Number","toFixed","DataSource","DataSourceApi","query","req","targets","from","range","toISOString","to","gran","granularity","metrics","metric","Array","isArray","data","this","seriesCall","testDatasource","auth","path","getBackendSrv","datasourceRequest","method","url","instanceSettings","uid","responseType","showErrorAlert","r1","status","message","name","r2","args","usp","URLSearchParams","append","m","toString","res","frames","points","entries","isBytes","frame","MutableDataFrame","fields","type","FieldType","time","values","number","config","decimals","displayName","p","add","Date","parse","date_time","KBytes","push","constructor","super","apiBase","authHeader","jsonData","apiUrl","replace","decryptedSecureJsonData","apiKey","METRIC_OPTS","label","GRANULARITY","plugin","DataSourcePlugin","setConfigEditor","options","onOptionsChange","secureJsonData","h3","className","div","span","Input","placeholder","onChange","e","currentTarget","SecretInput","isConfigured","Boolean","secureJsonFields","onReset","setQueryEditor","onRunQuery","Select","find","v"],"sourceRoot":""}